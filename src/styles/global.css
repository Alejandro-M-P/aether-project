@import "tailwindcss";

/* NUEVO: Contenedor circular para simular la Tierra */
.map-circle-wrapper {
	width: 90vmin; /* 90% del viewport más pequeño (alto o ancho) */
	height: 90vmin;
	max-width: 900px;
	max-height: 900px;
	border-radius: 50%; /* Hace el contenedor circular */
	overflow: hidden; /* Oculta el mapa fuera del círculo */
	box-shadow: 0 0 50px rgba(0, 191, 255, 0.3), 0 0 10px rgba(255, 255, 255, 0.5); /* Resplandor */
	position: relative; /* Necesario para posicionar el mapa hijo */
}

/* Clases para el MapContainer y Leaflet */
.map-container,
.map-container .leaflet-container {
	height: 100%;
	width: 100%;
	/* El TileLayer en Islands.jsx ya usa tiles oscuros */
}

/* Estilos de animación (mantenidos) */
@keyframes pulse-green {
	0% {
		box-shadow: 0 0 0 0 rgba(30, 200, 30, 0.4); /* Verde */
	}
	70% {
		box-shadow: 0 0 0 20px rgba(30, 200, 30, 0);
	}
	100% {
		box-shadow: 0 0 0 0 rgba(30, 200, 30, 0);
	}
}
.pulse-green {
	animation: pulse-green 2s infinite;
}

@keyframes pulse-blue {
	0% {
		box-shadow: 0 0 0 0 rgba(0, 191, 255, 0.4); /* Azul */
	}
	70% {
		box-shadow: 0 0 0 20px rgba(0, 191, 255, 0);
	}
	100% {
		box-shadow: 0 0 0 0 rgba(0, 191, 255, 0);
	}
}
.pulse-blue {
	animation: pulse-blue 2s infinite;
}

.leaflet-marker-icon {
	box-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
	background-color: transparent;
}

.user-marker {
	background-color: white !important;
	border-radius: 50%;
	box-shadow: 0 0 10px #fff;
}

/* NUEVO: Estilos para la Burbuja de Mensaje de Borrador (Draft Marker) */
.draft-message-icon-wrapper {
	pointer-events: none;
	width: auto !important;
	height: auto !important;
}

.draft-message-bubble {
	pointer-events: all;
	/* Estilos de Tailwind traducidos a CSS plano */
	background-color: rgba(255, 255, 255, 0.2);
	backdrop-filter: blur(8px);
	border-radius: 9999px;
	padding: 0.375rem 0.75rem; /* py-1.5 px-3 */
	box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
		0 8px 10px -6px rgba(0, 0, 0, 0.1);
	border: 1px solid rgba(255, 255, 255, 0.3);
	color: white;
	font-family: monospace;
	font-size: 0.75rem; /* text-xs */
	max-width: 200px;
	position: relative;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;

	/* Posiciona la burbuja *encima* del marcador del usuario */
	transform: translate(-50%, -150%);
	animation: fadeInZoomIn 0.3s forwards;
}

.draft-message-tail {
	position: absolute;
	bottom: -6px;
	left: 50%;
	transform: translateX(-50%);
	width: 0;
	height: 0;
	/* Color de la cola debe coincidir con el fondo de la burbuja */
	border-left: 6px solid transparent;
	border-right: 6px solid transparent;
	border-top: 6px solid rgba(255, 255, 255, 0.2);
}

@keyframes fadeInZoomIn {
	from {
		opacity: 0;
		transform: translate(-50%, -150%) scale(0.8);
	}
	to {
		opacity: 1;
		transform: translate(-50%, -150%) scale(1);
	}
}
